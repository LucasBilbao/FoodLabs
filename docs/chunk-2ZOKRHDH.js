import{F as c,Gb as l,I as b,L as $,e as a,f as n,t as o}from"./chunk-LFGB4HOS.js";var i=class{path="";parameters="";setPath(e){return this.path=e,this}appendParameter(e){return this.path=`${this.path}/${e}`,this}appendQueries(e){return this.parameters=Object.entries(e).reduce((t,[r,p])=>p?`${t}${r}=${p}&`:t,""),this}build(){return`${this.path}?${this.parameters}`}};var u=class s{constructor(e){this.http=e}recipes$$=new n([]);recipe$$=new a;total$$=new n(0);isLoading$$=new n(!1);get isLoading$(){return this.isLoading$$.asObservable()}set isLoading$(e){this.isLoading$$.next(e)}get recipes$(){return this.recipes$$.asObservable()}set recipes$(e){this.recipes$$.next(e)}get recipe$(){return this.recipe$$.asObservable()}get total$(){return this.total$$.asObservable()}set total$(e){this.total$$.next(e)}getRecipes(e={limit:12,page:1,tags:void 0,search:""}){e.page=e.page||1,e.limit=e.limit||12,e.tags=e.tags||void 0,e.search=e.search||"",this.isLoading$$.next(!0);let t=new i().setPath("").appendQueries(e).build();this.http.get(t).pipe(o(1e3)).subscribe(({recipes:r,total:p})=>{this.isLoading$$.next(!1),this.recipes$$.next(r),this.total$$.next(p)})}getRecipe(e){this.isLoading$$.next(!0);let t=new i().setPath("").appendQueries({id:e}).build();this.http.get(e).subscribe(r=>{this.recipe$$.next(r),this.isLoading$$.next(!1)})}generateRecipe(e=""){this.isLoading$$.next(!0);let t=new i().setPath("generate-recipe").build();return this.http.post(t,{prompt:e}).pipe(c(()=>this.isLoading$$.next(!1)))}static \u0275fac=function(t){return new(t||s)($(l))};static \u0275prov=b({token:s,factory:s.\u0275fac,providedIn:"root"})};export{i as a,u as b};
